.intro-modal {
  padding: $space-none;
  min-height: 480px;
  height: 100%;
  width: 100%;
  color: $white;
  text-align: center;

  &__h1 {
    font-weight: 700;
    font-size: 30px;
    padding: $space-md $space-none $space-sm;

    @include breakpoints (mid-small medium) {
      font-size: 24px;
    }

    @include breakpoints (max mid-small) {
      font-size: 18px;
    }
  }
  &__h1--alt {
    font-weight: 700;
    font-size: 30px;
    padding-top: $space-lg;
    @include breakpoints (max medium) {
      font-size: 16px;
    }
  }

  &__h2 {
    font-size: 20px;
    @include breakpoints (max medium) {
      font-size: 16px;
    }
  }

  &-features {
    padding: $space-lg $space-none;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    &__image {
      display: inline-block !important;
      margin-bottom: $space-md;
    }
    &__text {
      font-size: 12px;
      font-weight: 700;
    }
  }

  &__responsive-height {
    min-height: 100px;
    @include breakpoints (mid-small medium) {
      min-height: 120px;
    }
  }

  &__height-full {
    height: 100%;
  }

  &__close {
    position: relative;
    width: 100%;
  }

  &__close-anchor {
    position: absolute;
    top: $space-none;
    right: $space-none;
    width: $space-md * 1.25;
    z-index: 9999;
    @include breakpoints (max mid-small) {
      width: $space-md;
    }
  }

  &__small {
    font-size: 12px;
    margin: $space-none;
  }

  &__p {
    font-size: $base-font-size * .875;
  }

  &__position-wrap {
    min-height: 200px;
    display: flex;
    flex: 0 0 100%;
    justify-content: flex-end;
    align-items: center;
    flex-direction: column;
  }

  &__position-img {
    width: 85%;
    max-width: 256px;
  }

  &__position-description-wrap {
    justify-content: space-between;
    display: flex;
    padding-top: $space-md;
    .intro-modal__p:first-child {
      flex: 0 1 45%;
    }
    .intro-modal__p:last-child {
      flex: 0 1 35%;
    }
  }

  &__button {
    position: absolute;
    bottom: 36px;
    width: 19%;
  }

  &__button-follow,
  &__button-disabled {
    width: 19%;
  }

  &__button-wrap {
    display: flex;
    justify-content: space-around;
  }

  &__span {
    white-space: nowrap;
    overflow: hidden;
    @include breakpoints (max mid-small) {
      text-align: start;
    }
  }

  &__top-description {
    font-size: 20px;
    padding-bottom: $space-md;

    @include breakpoints (mid-small medium) {
      font-size: 18px;
      padding-bottom: $space-sm;
    }

    @include breakpoints (max mid-small) {
      font-size: 14px;
      padding-bottom: $space-sm;
    }
  }

  &__margin-right {
    margin-right: $space-sm;
  }

  &__hide-sm {
    @include breakpoints (max mid-small) {
      display: none;
    }
  }

  &__white-space {
    white-space: normal;
  }

  &__ellipsis {
    text-overflow: ellipsis;
    overflow: hidden;
  }

  &__padding {
    padding: $space-md;
    @include breakpoints (max large) {
      padding-top: $space-md;
      padding-bottom: $space-md;
    }
  }

  &__padding-top {
    padding-top: $space-md;
  }

  &__padding--btm {
    padding-bottom: $space-lg;
  }

  &__padding-btn {
    padding-top: $space-lg;
    padding-bottom: $space-lg;
    @include breakpoints (max large) {
      padding-top: $space-lg;
      padding-bottom: $space-md;
    }
  }
  &__btn-center {
    text-align: center;
    position: absolute;
    top: 50%;
  }

  &__img-height {
    height: 200px;
    @include breakpoints (max mid-small) {
      height: 165px;
    }
  }

  &__img-height--extra {
    height: 225px;
    @include breakpoints (max mid-small) {
      height: 175px;
    }
  }

  &__img-width {
    width: 250px;
    @include breakpoints (max mid-small) {
      width: 200px;
    }
  }

  &__background {
    @include breakpoints (small) {
      height: 100vh;
      width: 100vw;
      background-size: cover;
    }
    @include breakpoints (large) {
      height: 300px;
      width: 100%;
      float: left; //This is important to ensure proper alignment with the parent div.
    }
  }

  &__menu-right {
    font-size: 2.5em;
    z-index: 3;
    top: 45%;
    right: 0;
    position: absolute;
    @include breakpoints (max mid-small) {
      display: none;
    }
  }
  &__menu-left {
    font-size: 2.5em;
    z-index: 3;
    top: 45%;
    left: 0;
    position: absolute;
    @include breakpoints (max mid-small) {
      display: none;
    }
  }

  &__footer {
    position: absolute;
    bottom: 20%;
    width: 100%;
    @include breakpoints (mid-small) {
      bottom: 10%;
    }
  }

  &__text-dark {
    color: $gray-darker;
  }

  // Modifies slick default selector type dot styles
  // We need to disable stylelint type selector rule because we need to override existing slick package styles.
  /* stylelint-disable selector-no-type  */
  &__gray-dots li button::before {
    color: $gray-pale;
    font-size: 12px;
  }
  &__gray-dots li.slick-active button::before {
    color: $white;
    opacity: 1;
  }
  /* stylelint-enable */

  &__description-text {
    @extend .intro-modal__p;
    @extend .intro-modal__responsive-height;
    @extend .intro-modal__padding-top;
  }

  &__default-text {
    width: 100%;
    color: $black;
    padding: $space-md;
    text-align: center;
  }

  &__grid {
    padding: $space-none $space-md;
  }

  &__square {
    position: relative;
    text-align: left;
    padding: $space-xxs;

    &-image {
      height: 100%;
      width: 100%;
      border: 1px solid $gray-border;
      border-radius: $space-sm;
      filter: brightness(90%) contrast(90%);
    }

    &-following {
      filter: brightness(60%);
    }

    &-check-mark {
      position: absolute;
      top: 0;
      left: 0;
      transform: scale(.5);
    }

    &-name {
      position: absolute;
      right: 10px;
      bottom: 10px;
      left: 10px;
      font-size: 1rem;
      word-wrap: break-word;
      text-shadow: 1px 1px 2px rgba($black, .6);

      @include breakpoints (xsmall-bootstrap small-bootstrap) {
        right: 8px;
        bottom: 8px;
        left: 8px;
        font-size: .9rem;
      }

      @include breakpoints (iphone5 mid-small) {
        right: 10px;
        bottom: 10px;
        left: 10px;
        font-size: .9rem;
      }

      @include breakpoints (max iphone5) {
        right: 8px;
        bottom: 8px;
        left: 8px;
        font-size: .9rem;
      }
    }

    &-details {
      position: absolute;
      top: 12px;
      right: 12px;

      @include breakpoints (xsmall-bootstrap small-bootstrap) {
        top: 10px;
        right: 10px;
      }

      @include breakpoints (iphone5 mid-small) {
        top: 10px;
        right: 10px;
      }

      @include breakpoints (max iphone5) {
        top: 8px;
        right: 8px;
      }
    }
  }
}

// Intro Modal shadow
.intro-modal-shadow {
  position: relative;
  top: -25px;
  height: 25px;
  width: 100%;
  background: linear-gradient(to bottom, transparent 1%, #fff 100%);
}

.intro-modal-vertical-scroll {
  // padding: $space-md;

  border-radius: $radius-sm $radius-sm $radius-sm $radius-sm;

  -webkit-column-count: 1;
  -moz-column-count: 1;
  column-count: 1;
  -webkit-column-gap: 0;
  -moz-column-gap: 0;
  column-gap: 0;
  .card-main {
    &:hover {
      cursor: pointer;
      background: $selected-color-bright;
      .card-main__candidate-name,
      .intro-modal__small {
        color: $gray-pale;
      }
    }
  }
}


.intro-modal-vertical-scroll.card {
  margin-bottom: $space-none;
}

.child-height-full > :first-child {
  height: 100%;
  > :first-child {
    height: 100%;
  }
}

.intro-modal-vertical-scroll-contain_without_slider {
  height: calc(100vh - 100px);
  max-height: 540px; // Scroll area in modal: 990 - 350 = 640px We set this so that when We Vote is in a frame, the modal isn't too long.
  overflow-y: auto;
  -webkit-overflow-scrolling: auto;
  overflow-x: hidden;
}

.intro-modal-vertical-scroll-contain {
  height: calc(100vh - 336px);
  max-height: 654px; // Scroll area in modal: 990 - 336 = 654px We set this so that when We Vote is in a frame, the modal isn't too long.
  overflow-y: auto;
  -webkit-overflow-scrolling: auto;
  overflow-x: hidden;

  &__advisers {
    height: calc(100vh - 345px);
  }

  @include breakpoints (max mid-small) {
    height: calc(100vh - 256px);
    max-height: 344px; // Scroll area in modal: 600 - 256 = 344px We set this so that when We Vote is in a frame, the modal isn't too long.
  }

  @include breakpoints (mid-small medium) {
    height: calc(100vh - 312px);
    max-height: 288px; // Scroll area in modal: 600 - 312 = 654px We set this so that when We Vote is in a frame, the modal isn't too long.
  }
}

// TODO Move to separate file if global, otherwise, rename to be scoped to this component '.intro-story__close-btn'
.x-close {
  position: absolute;
  height: 25px;
  width: 25px;
  top: 10px;
  right: 10px;
  z-index: 2;
  color: $white;

  &__cordova {
    top: 20px;
    right: 14px;
  }
  @include breakpoints (small mid-small) {
    height: 30px;
    width: 30px;
    padding: $space-xs;
  }
}

// Overrides

.story-view {
  .container-main {
    margin: $space-none;
    min-height: 100%;
    padding: $space-none;
  }

  .well {
    margin-bottom: $space-none;
    border: none;
  }
}

.slick-list,
.slick-track {
  height: 100%;
}

.slick-dots {
  bottom: 0;
}

.facebook-intro-connect,
.twitter-intro-connect {
  flex: initial;
  max-width: initial;
}

.calc-height {
  @include breakpoints (max mid-small) {
    height: calc(100vh - 52px);
    max-height: 548px; // Scroll area in modal: 600 - 52 = 548px We set this so that when We Vote is in a frame, the modal isn't too long.
  }

  @include breakpoints (mid-small) {
    height: calc(100vh - 104px);
    max-height: 496px; // Scroll area in modal: 600 - 104 = 496px We set this so that when We Vote is in a frame, the modal isn't too long.
  }
}

.modal-dialog {
  position: relative;
  // top: 20%;
  transform: translateY(-50%);

  @include breakpoints(medium large) {
    width: 750px;
  }

  @include breakpoints(large) {
    width: 880px;
  }
}

.modal-body {
  @include breakpoints (small) {
    height: inherit;

    .intro-modal__button-disabled,
    .intro-modal__button {
      width: 20%;
      bottom: 65px;
    }

    .intro-modal__button-wrap {
      justify-content: auto;
    }

    .intro-modal__gray-dots {
      bottom: 25px;
    }

    .intro-modal-vertical-scroll-contain {
      height: calc(100vh - 375px);
      max-height: 640px; // Scroll area in modal: 990 - 350 = 640px We set this so that when We Vote is in a frame, the modal isn't too long.
      &__advisers {
        height: calc(100vh - 345px);
      }
    }

    .calc-height {
      height: calc(100vh - 100px);
      max-height: 890px; // Modal buttons positioning: 990 - 100 = 640px We set this so that when We Vote is in a frame, the modal isn't too long.
    }

    .intro-modal-vertical-scroll-contain_without_slider {
      height: calc(100vh - 100px);
      max-height: 540px; // Scroll area in modal: 990 - 350 = 640px We set this so that when We Vote is in a frame, the modal isn't too long.
    }
  }

  @include breakpoints (mid-small medium) {
    .intro-modal-vertical-scroll-contain {
      height: calc(100vh - 400px); // slight bug with new shadow that needs this
    }
  }
}

.share-modal {
  padding: $space-none;
  width: 100%;
  color: $white;
  text-align: center;

  &__input {
    flex-basis: 80%;
    @include breakpoints (small mid-small) {
      flex-basis: 70%;
    }
    @include breakpoints (mid-small medium) {
      flex-basis: 80%;
    }
    @include breakpoints (medium large) {
      flex-basis: 75%;
    }
  }

  &__button {
    flex-basis: 20%;
    @include breakpoints (small mid-small) {
      flex-basis: 30%;
    }
    @include breakpoints (mid-small medium) {
      flex-basis: 20%;
    }
    @include breakpoints (medium large) {
      flex-basis: 25%;
    }
  }

  &__container {
    width: 100%;
    margin: $space-none 15px;
    display: flex;
    flex-flow: row wrap;
    justify-content: space-between;
    align-items: flex-start;
  }

  &__default-text {
    width: 100%;
    color: $black;
    text-align: center;
  }

  &__span--right {
    text-align: right;
  }

  &-vertical-scroll-contain {
    height: 300px;
    overflow-y: auto;
    -webkit-overflow-scrolling: auto;
    overflow-x: hidden;
    @include breakpoints (small medium) {
      height: calc(90vh - 100px);
    }
  }
  &-calc-height {
    height: 420px;
    @include breakpoints (small medium) {
      height: calc(100vh - 50px);
    }
  }
}
